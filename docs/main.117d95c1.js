parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({11:[function(require,module,exports) {
const s=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],e=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],n=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],t=e,o=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],r=new Map([["ㄳ",["ㄱ","ㅅ"]],["ㄵ",["ㄴ","ㅈ"]],["ㄺ",["ㄹ","ㄱ"]],["ㄻ",["ㄹ","ㅁ"]],["ㄼ",["ㄹ","ㅂ"]],["ㄽ",["ㄹ","ㅅ"]],["ㄾ",["ㄹ","ㅌ"]],["ㄿ",["ㄹ","ㅍ"]],["ㅀ",["ㄹ","ㅎ"]],["ㅄ",["ㅂ","ㅅ"]]]),u=new Map([["ㅘ",["ㅗ","ㅏ"]],["ㅙ",["ㅗ","ㅐ"]],["ㅚ",["ㅗ","ㅣ"]],["ㅝ",["ㅜ","ㅓ"]],["ㅞ",["ㅜ","ㅔ"]],["ㅟ",["ㅜ","ㅣ"]],["ㅢ",["ㅡ","ㅣ"]]]),i=/^[가-힣ㄱ-ㅎㅏ-ㅣ]+$/,l=/^[가-힣]+$/,a=e=>s.includes(e),h=s=>e.includes(s),c=s=>n.includes(s),f=s=>t.includes(s),d=s=>o.includes(s),p=s=>i.test(s),g=s=>l.test(s),m=s=>s.reduce((s,e)=>s.concat(e),[]),C=s=>s.map(s=>{if(Array.isArray(s)){const e=n.indexOf(s[0]),r=t.indexOf(s[1]),u=Math.max(o.indexOf(s[2]),0);return String.fromCharCode(44032+588*e+28*r+u)}return s}).join(""),A=(s,e=!0)=>{const i=[];for(let l=0,a=s.length;l<a;l+=1){const a=s[l];if(g(a)){const s=a.charCodeAt(0)-44032,l=n[Math.floor(Math.floor(s/28)/21)],h=t[Math.floor(s/28)%21],c=o[s%28];c?e?i.push(m([l,u.has(h)?u.get(h):h,r.has(c)?r.get(c):c])):i.push([l,h,c]):e?i.push(m([l,u.has(h)?u.get(h):h])):i.push([l,h])}else i.push(a)}return i},M=s=>{const e=Array.from(r.entries()),n=Array.from(u.entries()),t=s.map((s,t,o)=>{const r=o[t-1],u=o[t+1];if(a(r)&&a(s)&&(a(u)||!u)){const n=e.find(([,e])=>e[0]===r&&e[1]===s);if(n)return n[0]}else if(h(r)&&h(s)){const e=n.find(([,e])=>e[0]===r&&e[1]===s);if(e)return e[0]}return s}).filter((s,e,n)=>{const t=n[e+1];return!r.has(t)&&!u.has(t)}).reduce((s,e,n,t)=>{if(p(e)){const o=t[n+1],r=t[n+2],u=t[n+3];a(e)&&h(o)?!a(r)||!a(u)&&h(u)&&u?(s.push([e,o]),s.push(null)):(s.push([e,o,r]),s.push(null),s.push(null)):null===s[s.length-1]?s.pop():s.push(e)}else s.push(e);return s},[]);return C(t)},j=(s,e)=>m(A(s,e)),x=s=>{const e=s[s.length-1];return g(e)&&(e.charCodeAt(0)-44032)%28>0},b=(s,e)=>j(s).join("")===j(e).join(""),y=(s,e)=>j(s).join("").includes(j(e).join(""));module.exports={isConsonant:a,isVowel:h,isChoseong:c,isJungseong:f,isJongseong:d,isHangul:p,isHangulComplete:g,assemble:C,disassemble:A,flatAssemble:M,flatDisassemble:j,endsWithConsonant:x,equals:b,includes:y};
},{}],12:[function(require,module,exports) {

},{}],9:[function(require,module,exports) {
var e=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var n=[],t=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(t=(u=a.next()).done)&&(n.push(u.value),!r||n.length!==r);t=!0);}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var t=require("fs"),i=function(){function i(e,r,t,o){n(this,i),this.originalFrequencies=new Map(e),this.originalScores=new Map(r),this.reversedFrequencies=new Map(t),this.reversedScores=new Map(o)}return r(i,[{key:"saveFile",value:function(e){var r=this.originalFrequencies,n=this.originalScores,i=this.reversedFrequencies,o=this.reversedScores,u=[];r.forEach(function(e,r){u.push([r,e,n.get(r)].join(","))}),u.push("---"),i.forEach(function(e,r){u.push([r,e,o.get(r)].join(","))}),t.writeFileSync(e,u.join("\n"))}}],[{key:"loadFile",value:function(r){if(t.existsSync(r)){var n=[],o=[],u=[],a=[],s=!0;return t.readFileSync(r).toString().split("\n").forEach(function(r){if("---"===r)s=!1;else{var t=r.split(","),i=e(t,3),c=i[0],l=i[1],f=i[2];s?(n.push([c,Number(l)]),o.push([c,Number(f)])):(u.push([c,Number(l)]),a.push([c,Number(f)]))}}),new i(n,o,u,a)}return null}}]),i}();module.exports=i;
},{"fs":12}],8:[function(require,module,exports) {
var e=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var n=[],t=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(e){i=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var t=require("hanguler"),i=require("./KokoaModel"),s=new Map,a=function(e){var r=/^[A-z]+$/,n=/^[가-힣]+$/,t=/^[0-9]+$/,i=[];return e.split("").forEach(function(e){var s=i[i.length-1]||"";r.test(s)&&r.test(e)||n.test(s)&&n.test(e)||t.test(s)&&t.test(e)||s[s.length-1]===e?i[i.length-1]+=e:i.push(e)}),i},o=function(e){if(s.has(e))return s.get(e);for(var r=[],n=e,t=0,i=n.length;t<=i;t+=1)r.push([n.slice(0,t),n.slice(t).split("").reverse().join("")]);return s.set(e,r),r},u=function(){function s(e){n(this,s),e?(this.originalFrequencies=new Map(e.originalFrequencies),this.originalScores=new Map(e.originalScores),this.reversedFrequencies=new Map(e.reversedFrequencies),this.reversedScores=new Map(e.reversedScores)):(this.originalFrequencies=new Map,this.originalScores=new Map,this.reversedFrequencies=new Map,this.reversedScores=new Map)}return r(s,[{key:"getFrequency",value:function(e){var r=this.originalFrequencies;return r.has(e)?r.get(e):0}},{key:"getModel",value:function(){var e=this.originalFrequencies,r=this.originalScores,n=this.reversedFrequencies,t=this.reversedScores;return new i(e,r,n,t)}},{key:"run",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.hangulOnly,s=void 0===i||i,u=n.minCount,l=void 0===u?5:u,c=this.originalFrequencies,h=this.originalScores,f=this.reversedScores,g=[];return a(r).forEach(function(r){if(t.isHangul(r)){var n=o(r).map(function(r){var n=e(r,2),t=n[0],i=n[1];return[t,i,h.has(t)?h.get(t):.01,f.has(i)?f.get(i):.01]}).filter(function(r,n,t){var i=e(r,4),s=i[2],a=i[3],o=n===t.length-1?0:t[n+1][2],u=n===t.length-1?0:t[n+1][3];return s>=o&&a>=u}).map(function(r){var n=e(r,3),t=n[0];return[t,n[2]+t.length/1e4]}).reduce(function(e,r){return r[1]>e[1]?r:e})[0];c.get(n)>=l&&g.push(n)}else s||g.push(r)}),g}},{key:"train",value:function(r){for(var n=this.originalFrequencies,i=this.reversedFrequencies,s=a(r).filter(t.isHangul).map(o),u=0,l=s.length;u<l;u+=1){var c=s[u];if(c.length>2)for(var h=0,f=c.length;h<f;h+=1){var g=e(c[h],2),v=g[0],p=g[1];n.has(v)?n.set(v,n.get(v)+1):n.set(v,1),i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)}}}},{key:"update",value:function(){var e=this.originalFrequencies,r=this.originalScores,n=this.reversedFrequencies,t=this.reversedScores;e.forEach(function(e,n,t){if(0===n.length)r.set(n,.01);else if(1===n.length)r.set(n,.01);else{var i=1/n.length;r.set(n,Math.pow(e/t.get(n[0]),i))}}),n.forEach(function(e,r,n){if(0===r.length)t.set(r,.01);else if(1===r.length)t.set(r,.01);else{var i=1/r.length;t.set(r,Math.pow(e/n.get(r[0]),i))}})}}]),s}();module.exports=u;
},{"hanguler":11,"./KokoaModel":9}],10:[function(require,module,exports) {
var n=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}();function e(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}return Array.from(n)}function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var t=require("./Kokoa"),o=function(){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t;r(this,o),this.kokoa=n}return n(o,[{key:"engine",value:function(){return this.kokoa}},{key:"keysentences",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.count,t=void 0===r?5:r,o=e.training,u=void 0===o||o,a=arguments[2],i=this.kokoa;u&&(i.train(n),i.update());var c=new Map,f=this.sentences(n),s=f.map(function(n){return i.run(n,a)}).filter(Boolean),l=s.reduce(function(n,e){return n.concat(e)},[]);l.forEach(function(n){c.has(n)?c.set(n,c.get(n)+1):c.set(n,1)});var v=Array.from(new Set(l)),p=new Map(v.map(function(n){return[n,c.get(n)/(1+Math.log(1+i.getFrequency(n)))]}));return s.map(function(n,e){return[e,n.map(function(n){return p.get(n)}).reduce(function(n,e){return n+e},0)]}).sort(function(n,e){return e[1]-n[1]}).slice(0,t).map(function(n){return f[n[0]]})}},{key:"keywords",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.count,t=void 0===r?10:r,o=e.training,u=void 0===o||o,a=arguments[2],i=this.kokoa;u&&(i.train(n),i.update());var c=new Map,f=i.run(n,a);return f.forEach(function(n){c.has(n)?c.set(n,c.get(n)+1):c.set(n,1)}),Array.from(new Set(f)).map(function(n){return[n,c.get(n)/(1+Math.log(1+i.getFrequency(n)))]}).sort(function(n,e){return e[1]-n[1]}).slice(0,t).map(function(n){return n[0]})}},{key:"sentences",value:function(n){return n.match(/[^.!?…\s][^.!?…]*(?:[.!?…](?!['"]?\s|$)[^.!?…]*)*[.!?…]?['"]?(?=\s|$)/g).map(function(n){return n.split(/\n+/)}).reduce(function(n,r){return"string"==typeof r?n.push(r):n.push.apply(n,e(r)),n},[]).filter(Boolean)}},{key:"words",value:function(n){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).training,r=void 0===e||e,t=arguments[2],o=this.kokoa;return r&&(o.train(n),o.update()),o.run(n,t)}}]),o}();module.exports=o;
},{"./Kokoa":8}],7:[function(require,module,exports) {
var o=require("./Kokoa"),e=require("./KokoaModel"),a=require("./KokoaUtil");module.exports=Object.assign(o,{Kokoa:o,KokoaModel:e,KokoaUtil:a});
},{"./Kokoa":8,"./KokoaModel":9,"./KokoaUtil":10}],6:[function(require,module,exports) {
var e=require("../lib"),n=e.Kokoa,t=e.KokoaUtil,o=new n,d=new t(o);console.log(d.words("태평양 전쟁 개전 당시 일본 해군의 전략은 외곽 방어망 곳곳에 배치된 지상비행장이 방어의 근거지가 되고 유사시 적을 방어선 가까이 끌어들이는 동안 항공기를 집결하여 격퇴하는 것이었다."));var r=document.getElementById("run"),c=document.getElementById("content"),i=document.getElementById("keywords"),l=document.getElementById("keysentences"),a=document.getElementById("words");r.addEventListener("click",function(){var e=c.value,n=d.keywords(e),t=d.keysentences(e),o=d.words(e);i.innerHTML="",n.forEach(function(e){var n=document.createElement("li");n.innerHTML=e,i.appendChild(n)}),l.innerHTML="",t.forEach(function(e){var n=document.createElement("li");n.innerHTML=e,l.appendChild(n)}),a.textContent=o.join("/")});
},{"../lib":7}]},{},[6], null)